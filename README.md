# Fuzzy DB

Десктопное приложение для проектирования и выполнения систем нечёткого вывода на основе алгоритма Мамдани.

## Описание

Fuzzy DB — это инструмент для создания, редактирования и применения систем нечёткой логики. Приложение позволяет:

- Создавать иерархические структуры задач и групп задач
- Определять входные и выходные параметры с лингвистическими термами
- Задавать функции принадлежности (трапециевидные, треугольные, левые/правые граничные)
- Формировать базу правил нечётких продукций
- Выполнять нечёткий вывод методом Мамдани с дефаззификацией центроида
- Просматривать детализированный процесс вывода с промежуточными расчётами
- Экспортировать и импортировать задачи в формате `.fuzzy`

## Основные возможности

### Управление задачами
- **Карточки задач** с изображениями, названиями и описаниями
- **Иерархическая навигация** — организация задач в группы
- **Экспорт/импорт** — сохранение и загрузка задач в файлы `.fuzzy` (JSON внутри)
- **Интерактивные элементы** — клик по изображению или названию открывает задачу

### Работа с параметрами
- **Входные параметры** — определение диапазонов и лингвистических термов
- **Выходные параметры** — настройка выходных характеристик
- **Функции принадлежности** — трапециевидные функции с параметрами a, b, c, d
- **Автоматическое разбиение Рушпини** — равномерное распределение термов
- **Визуализация** — графическое отображение функций принадлежности

### Таблица правил
- **Автоматическая генерация** всех комбинаций входных термов
- **Интуитивное заполнение** — выбор выходных термов из выпадающих списков
- **Валидация** — проверка полноты заполнения правил перед выводом

### Нечёткий вывод
- **Пользовательский вид** — ввод значений и получение результата
- **Детальный вывод** — пошаговое отображение процесса:
  - Фаззификация входных значений
  - Применение правил нечётких продукций
  - Агрегация результатов (max-композиция)
  - Дефаззификация методом центроида

### Справочная система
- **Встроенная справка** — подробная документация по всем функциям
- **Визуализация концепций** — Canvas-графики функций принадлежности
- **Теоретический материал** — описание методов и алгоритмов

## Технологии

### Frontend
- **React 18** + **TypeScript** — пользовательский интерфейс
- **Vite** — сборка и разработка
- **React Router** — маршрутизация
- **CSS Modules** — стилизация компонентов
- **Canvas API** — визуализация графиков

### Backend
- **Rust** — бизнес-логика и обработка данных
- **Tauri 2.0** — десктопный фреймворк
- **SQLite** — хранение данных
- **Tokio** — асинхронное выполнение

### Архитектура
- **Domain-Driven Design** — разделение на domain, application, infrastructure
- **Repository Pattern** — абстракция доступа к данным
- **Use Cases** — инкапсуляция бизнес-логики

## Установка и запуск

### Требования
- **Node.js** (v18 или выше)
- **Rust** (stable)
- **npm** или **pnpm**

### Режим разработки

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run tauri dev
```

### Сборка приложения

```bash
# Сборка production версии
npm run tauri build
```

Результат сборки:
- `src-tauri/target/release/fuzzy-db.exe` — standalone приложение
- `src-tauri/target/release/bundle/msi/` — MSI installer
- `src-tauri/target/release/bundle/nsis/` — NSIS installer

## Использование

1. **Создайте новую задачу** на главной странице
2. **Добавьте входные параметры** — перейдите на вкладку "Входные параметры"
3. **Добавьте выходные параметры** — перейдите на вкладку "Выходные параметры"
4. **Заполните таблицу правил** — перейдите на вкладку "Таблица выходных значений"
5. **Выполните вывод** — используйте вкладку "Пользовательский вид" или "Нечёткий вывод"

## Формат файлов экспорта

Файлы `.fuzzy` содержат JSON-структуру с полным описанием задачи:

```json
{
  "problem": {
    "id": 1,
    "name": "Название задачи",
    "description": "Описание задачи",
    "is_final": true,
    "image_id": null
  },
  "input_parameters": [...],
  "output_parameters": [...],
  "output_values": [...]
}
```

## Структура проекта

```
fuzzy-db/
├── src/                    # Frontend (React + TypeScript)
│   ├── api/               # API вызовы к Tauri backend
│   ├── components/        # Переиспользуемые компоненты
│   ├── modules/           # Модули приложения
│   ├── pages/             # Страницы приложения
│   ├── types/             # TypeScript типы
│   └── ui/                # UI компоненты
├── src-tauri/             # Backend (Rust)
│   ├── src/
│   │   ├── domain/        # Доменная логика
│   │   ├── application/   # Use cases
│   │   └── infrastructure/# Репозитории, БД
│   └── Cargo.toml
└── package.json
```

## Основные файлы конфигурации

- **tauri.conf.json** — конфигурация Tauri приложения
- **tsconfig.json** — настройки TypeScript
- **vite.config.ts** — конфигурация Vite
- **Cargo.toml** — зависимости Rust

## Recommended IDE Setup

- [VS Code](https://code.visualstudio.com/) + [Tauri](https://marketplace.visualstudio.com/items?itemName=tauri-apps.tauri-vscode) + [rust-analyzer](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer)
